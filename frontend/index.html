<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Euphoria</title>
<style>
  body { font-family: Arial, sans-serif; background: #f2f2f2; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; }
  #controls { margin: 20px; }
  input { width: 300px; padding: 8px; }
  button { padding: 8px 12px; }
  img { max-width: 100%; border: 1px solid #ccc; margin-top: 20px; }
</style>
</head>
<body>
<h1>Euphoria</h1>
<div id="controls">
  <input type="text" id="urlInput" placeholder="Enter URL or search...">
  <button id="goBtn">Go</button>
</div>
<img id="browserOutput" src="" alt="Browser output">
<script>
const input = document.getElementById('urlInput');
const goBtn = document.getElementById('goBtn');
const output = document.getElementById('browserOutput');

function navigate() {
  let url = input.value.trim();
  if (!url) return;
  // If not a full URL, search with Google
  if (!/^https?:\/\//i.test(url)) {
    url = 'https://www.google.com/search?q=' + encodeURIComponent(url);
  }
  output.src = `/browse?url=${encodeURIComponent(url)}&t=${Date.now()}`;
}

goBtn.addEventListener('click', navigate);
input.addEventListener('keypress', e => { if (e.key === 'Enter') navigate(); });

// Auto refresh every 5 seconds for streaming effect
setInterval(() => {
  if (output.src) output.src = output.src.split('&t=')[0] + '&t=' + Date.now();
}, 5000);
</script>
</body>
</html>