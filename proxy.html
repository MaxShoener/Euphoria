<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Temporary Direct Fetch Proxy</title>
<style>
body { margin:0; font-family:sans-serif; background:#111; color:#eee; }
#bar { display:flex; padding:6px; background:#222; }
#url { flex:1; padding:6px; border:none; border-radius:4px; }
#go { margin-left:6px; padding:6px 12px; border:none; background:#4cafef; color:#fff; border-radius:4px; cursor:pointer; }
#viewer { width:100%; height:calc(100vh - 42px); border:none; background:white; }
</style>
</head>
<body>
<div id="bar">
<input id="url" type="text" placeholder="https://example.com"/>
<button id="go">Go</button>
</div>
<iframe id="viewer"></iframe>

<script>
const urlBox = document.getElementById("url");
const goBtn = document.getElementById("go");
const viewer = document.getElementById("viewer");

// Function to fetch and load site directly (for testing only)
async function loadSite(url) {
    try {
        // Add https:// if missing
        if (!url.startsWith("http")) url = "https://" + url;

        const response = await fetch(url);
        const html = await response.text();
        const doc = viewer.contentDocument || viewer.contentWindow.document;
        doc.open();
        doc.write(html);
        doc.close();
    } catch (e) {
        alert("Failed to load site (likely CORS restriction): " + e);
    }
}

// Go button click
goBtn.addEventListener("click", () => {
    const target = urlBox.value.trim();
    if (!target) return alert("Enter a URL");
    loadSite(target);
});

// Enter key triggers Go
urlBox.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
        e.preventDefault();
        goBtn.click();
    }
});
</script>
</body>
</html>
