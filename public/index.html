<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Euphoria</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
  input { width: 60%; padding: 10px; font-size: 16px; }
  button { padding: 10px 20px; font-size: 16px; }
  iframe { width: 100%; height: 80vh; margin-top: 20px; border: 1px solid #ccc; }
</style>
</head>
<body>
<h1>Euphoria Browser</h1>
<input id="urlInput" type="text" placeholder="Enter a URL" />
<button onclick="loadURL()">Go</button>
<iframe id="pageFrame"></iframe>

<script>
async function loadURL() {
  const url = document.getElementById('urlInput').value;
  if (!url) return alert('Please enter a URL');

  try {
    const response = await fetch('/fetch', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ url })
    });

    if (!response.ok) throw new Error('Failed to fetch page');
    const html = await response.text();
    
    const iframe = document.getElementById('pageFrame');
    iframe.srcdoc = html;
  } catch (err) {
    alert('Error: ' + err.message);
  }
}
</script>
</body>
</html>
