<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Euphoria Proxy UI</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #1e1e2f;
      color: #fff;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      box-sizing: border-box;
    }

    .header {
      text-align: center;
      padding: 1rem;
      background-color: #28293d;
      border-bottom: 1px solid #444;
    }

    .header h1 {
      margin: 0;
      font-size: 1.8rem;
      color: #f0f0f0;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.8rem;
      background-color: #2a2b42;
      border-bottom: 1px solid #444;
    }

    input, button {
      padding: 0.5em 0.8em;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
    }

    input {
      width: 300px;
      max-width: 80%;
    }

    button {
      background-color: #6c63ff;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background-color: #5750d1;
    }

    iframe {
      flex: 1;
      width: 100%;
      border: none;
      background-color: #fff;
    }

    @media (max-width: 600px) {
      input {
        width: 90%;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Euphoria Proxy</h1>
  </div>
  
  <div class="controls">
    <button onclick="goBack()">‚óÄ Back</button>
    <button onclick="goForward()">‚ñ∂ Forward</button>
    <button onclick="refresh()">‚ü≥ Refresh</button>
    <button onclick="goHome()">üè† Home</button>
    <input type="text" id="url" placeholder="Enter URL to proxy" />
    <button onclick="loadProxy()">Go</button>
    <button onclick="toggleFullscreen()">‚õ∂ Fullscreen</button>
    <button onclick="switchProxy()">üîÄ Switch Proxy</button>
  </div>
  
  <iframe id="frame" src=""></iframe>

  <script>
    const iframe = document.getElementById("frame");
    const homeURL = "https://example.com"; // Set your default home URL
    let proxyIndex = 0;
    const proxies = ["/proxy1?url=", "/proxy2?url="]; // Example proxy endpoints

    let historyStack = [];
    let historyIndex = -1;

    function loadProxy() {
      const url = document.getElementById("url").value.trim();
      if (!url) return alert("Please enter a URL");

      const fullURL = proxies[proxyIndex] + encodeURIComponent(url);
      iframe.src = fullURL;

      // Manage history
      historyStack = historyStack.slice(0, historyIndex + 1);
      historyStack.push(fullURL);
      historyIndex++;
    }

    function goBack() {
      if (historyIndex > 0) {
        historyIndex--;
        iframe.src = historyStack[historyIndex];
      }
    }

    function goForward() {
      if (historyIndex < historyStack.length - 1) {
        historyIndex++;
        iframe.src = historyStack[historyIndex];
      }
    }

    function refresh() {
      iframe.src = iframe.src;
    }

    function goHome() {
      iframe.src = homeURL;
      historyStack = [homeURL];
      historyIndex = 0;
    }

    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    }

    function switchProxy() {
      proxyIndex = (proxyIndex + 1) % proxies.length;
      if (historyIndex >= 0) {
        const url = new URL(historyStack[historyIndex]);
        const realURL = url.searchParams.get("url");
        iframe.src = proxies[proxyIndex] + encodeURIComponent(realURL);
        historyStack[historyIndex] = iframe.src;
      }
    }

    // Initialize
    goHome();
  </script>
</body>
</html>