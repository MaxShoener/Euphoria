<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Euphoria Proxy</title>
<style>
body, html { margin:0; padding:0; height:100%; overflow:hidden; font-family:sans-serif; background:#f5f5f5;}
#topbar { 
  display:flex; align-items:center; justify-content:space-between; 
  padding: 0 10px; background:#1c1c1c; color:white; height:50px; box-sizing:border-box;
}
#topbar button { height:30px; padding:0 10px; margin-right:5px; font-size:14px; border:none; border-radius:8px; cursor:pointer;}
#topbar input { flex:1; height:30px; border-radius:8px; border:none; padding:0 10px; font-size:14px;}
#content { position:absolute; top:50px; bottom:0; left:0; right:0; overflow:auto; }
#spinner { position:absolute; top:50px; left:0; right:0; bottom:0; background:rgba(255,255,255,0.6); display:none; align-items:center; justify-content:center; z-index:1000;}
</style>
</head>
<body>
<div id="topbar">
  <button id="homeBtn">Home</button>
  <input id="searchInput" type="text" placeholder="Enter URL or search term">
  <button id="goBtn">Go</button>
  <button id="fullscreenBtn">Fullscreen</button>
</div>
<div id="spinner">Loading...</div>
<div id="content"></div>

<script>
const content = document.getElementById('content');
const spinner = document.getElementById('spinner');
const searchInput = document.getElementById('searchInput');

document.getElementById('goBtn').onclick = () => load(searchInput.value);
document.getElementById('homeBtn').onclick = () => load('https://www.google.com');

searchInput.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter') load(searchInput.value);
});

document.getElementById('fullscreenBtn').onclick = ()=>{
  if(document.fullscreenElement){
    document.exitFullscreen();
  } else {
    content.requestFullscreen();
  }
};

async function load(url){
  spinner.style.display='flex';
  try {
    const res = await fetch(`/proxy?url=${encodeURIComponent(url)}`);
    const html = await res.text();
    content.innerHTML = html;
  } catch(e){
    content.innerHTML = `<div style="padding:20px; color:red;">Error loading page: ${e.message}</div>`;
  } finally {
    spinner.style.display='none';
  }
}
</script>
</body>
</html>
