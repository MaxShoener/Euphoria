<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CORS Proxy Demo</title>
<style>
body { margin:0; font-family:sans-serif; background:#111; color:#eee; }
#bar { display:flex; padding:6px; background:#222; }
#url { flex:1; padding:6px; border:none; border-radius:4px; }
#go { margin-left:6px; padding:6px 12px; border:none; background:#4cafef; color:#fff; border-radius:4px; cursor:pointer; }
#viewer { width:100%; height:calc(100vh - 42px); border:none; background:#222; display:flex; align-items:center; justify-content:center; color:#fff; font-size:1.1em; text-align:center; }
</style>
</head>
<body>
<div id="bar">
<input id="url" type="text" placeholder="https://example.com">
<button id="go">Go</button>
</div>
<div id="viewer">
Enter a URL above and click Go or press Enter.
</div>

<script>
const urlBox = document.getElementById("url");
const goBtn = document.getElementById("go");
const viewer = document.getElementById("viewer");

// Load a website through a public CORS proxy
async function loadSite(url) {
    if (!url.startsWith("http")) url = "https://" + url;
    const proxyUrl = "https://cors-anywhere.herokuapp.com/" + url;

    viewer.innerHTML = "<p>Loading...</p>";

    try {
        const response = await fetch(proxyUrl);
        const html = await response.text();
        viewer.innerHTML = `<iframe style="width:100%;height:100%;border:none;"></iframe>`;
        const iframeDoc = viewer.firstElementChild.contentDocument || viewer.firstElementChild.contentWindow.document;
        iframeDoc.open();
        iframeDoc.write(html);
        iframeDoc.close();
    } catch (e) {
        viewer.innerHTML = `<p style="color:red;">Failed to load site: ${e}</p>`;
    }
}

// Go button click
goBtn.addEventListener("click", () => {
    const target = urlBox.value.trim();
    if (!target) return alert("Enter a URL");
    loadSite(target);
});

// Enter key triggers Go
urlBox.addEventListener("keydown", e => {
    if (e.key === "Enter") {
        e.preventDefault();
        goBtn.click();
    }
});
</script>
</body>
</html>
